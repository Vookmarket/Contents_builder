# Contents Builder (Animal x Politics Info Automation)

動物×政治情報アカウントの運営を支援・自動化するためのツールです。
Google スプレッドシート上で動作し、AI (Gemini) を使って情報収集や台本作成を自動化します。

## 概要

このツールは **Google Apps Script (GAS)** で動作します。
コードは GitHub 上で管理されており、Chrome 拡張機能を使って GAS エディタに取り込んで使用します。

- **できること**:
  - ニュースサイトから最新情報を自動収集
  - AI が記事を読んで重要度を判定（スクリーニング）
  - YouTube や note 向けの原稿案を作成

---

## 🔰 初心者向けセットアップガイド

### 1. 必要なものを準備する

1.  **Google Chrome**: ブラウザ。
2.  **Google Apps Script GitHub アシスタント**:
    - Chrome ウェブストアから拡張機能をインストールしてください。
    - [Google Apps Script GitHub アシスタント](https://chrome.google.com/webstore/detail/google-apps-script-github/lfjcgcmkmjjlieihflcicjojomelinch) (または類似の拡張機能)

### 2. GASプロジェクトの作成

1.  Google ドライブを開き、「新規」>「その他」>「Google Apps Script」を選択して新しいプロジェクトを作成します。
2.  プロジェクト名を「Contents Builder」などに変更します。

### 3. GitHub との連携

1.  GAS エディタ画面を開いた状態で、拡張機能のメニューから GitHub アカウントにログインします。
2.  **Repository** でこのリポジトリ (`Contents_builder`) を選択します。
3.  **Branch** で `main` を選択します。
4.  **Pull** ボタン（↓矢印など）をクリックして、コードを GAS プロジェクトに取り込みます。

### 4. 初期設定（重要）

AI を使うための鍵（APIキー）を設定します。

1.  GAS エディタ画面の左側にある歯車アイコン（⚙️ **プロジェクトの設定**）をクリックします。
2.  画面下の方にある「**スクリプト プロパティ**」というセクションを探します。
3.  「**スクリプト プロパティを追加**」ボタンを押します。
4.  以下の通りに入力して「保存」を押します。
    - **プロパティ**: `GEMINI_API_KEY`
    - **値**: (Google AI Studio で取得した API キー)
      - ※キーがない場合は [Google AI Studio](https://aistudio.google.com/) から "Get API key" で作成してください。

---

## 🚀 使い方

### スプレッドシートを開く
まだスプレッドシートがない場合は、コード内で `SpreadsheetApp.getActiveSpreadsheet()` を使っているため、GASプロジェクトを「スプレッドシートに紐付いたスクリプト」として作成するか、スタンドアロンの場合は初回実行時にスプレッドシートを作成するロジックが必要です（現在のコードはアクティブシートを前提としています）。

**推奨手順:**
1.  新しい Google スプレッドシートを作成します。
2.  メニューの「拡張機能」>「Apps Script」を選択します。
3.  開いた GAS エディタで、上記「3. GitHub との連携」の手順を行ってください。

### メニューから実行する
コードを取り込んだ後、スプレッドシートをリロード（再読み込み）してください。
数秒待つと、メニューバーの右側に **「Contents Builder」** という新しいメニューが現れます。

1.  **Contents Builder** > **今すぐ収集を実行**
    - テスト用の情報収集プロセスが動きます。
2.  **Contents Builder** > **スクリーニング実行**
    - AI による分類処理が動きます。

※ 初回実行時は「承認が必要です」という画面が出ます。「権限を確認」→ アカウント選択 → 「詳細」→ 「Contents Builder（安全ではないページ）に移動」→ 「許可」と進んでください。

---

## 開発者向け情報

### ディレクトリ構造
- `src/`: ソースコードが入っています。GAS 上ではこの構造が反映されるか、またはファイル名の一部として扱われます。

### 更新フロー
1.  **Pull**: GitHub の変更を GAS に取り込む。
2.  **Push**: GAS 上での変更を GitHub に反映する（拡張機能を使用）。

## ドキュメント
仕様の詳細は以下を参照してください。
- [要件定義書](要件定義書.md)
- [技術要件定義書](技術要件定義書.md)
